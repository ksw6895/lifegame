{
    "version": 2,
    "builds": [
        {
            "src": "backend/main.py",
            "use": "@vercel/python",
            "config": {
                "maxLambdaSize": "45mb"
            }
        },
        {
            "src": "frontend",
            "use": "@vercel/static"
        }
    ],
    "routes": [
        {
            "src": "/api/(.*)",
            "dest": "backend/main.py"
        },
        {
            // 모든 정적 파일 (js, css, png 등) 요청은 출력 루트에서 직접 찾도록 수정
            "src": "/(.*\\.(?:js|css|png|jpg|svg|ico|json|txt|map))",
            "dest": "/$1"
        },
        {
            // 그 외 모든 요청 (SPA의 라우팅 경로 및 사이트 루트 경로 포함)은
            // 출력 루트의 index.html로 보내도록 수정
            "src": "/(.*)",
            "dest": "/index.html"
        }
    ]
}
